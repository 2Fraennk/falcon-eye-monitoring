version: "3.8"

networks:
  monitoring:

services:
  fem_mongodb-exporter:
    image: percona/mongodb_exporter:2.35.0
    restart: unless-stopped
    container_name: fem_mongodb_exporter
    ports:
      - "29216:9216"
    command: [
        "--mongodb.uri=mongodb://{mongodb_username}:{mongodb_password}@{mongodb_hosts}/admin?ssl=true&sslInsecure=true",
        "--mongodb.direct-connect=false",
        "--collector.diagnosticdata=true",
        "--collector.replicasetstatus=true",
        "--collector.indexstats=true",
        "--collector.collstats=true",
        "--log.level=error",
    ]
    networks:
      - monitoring
